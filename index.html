<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ask Max - Calm Guidance for Reinventing After 50</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f0f4f7 0%, #e8f2f6 50%, #f5f8fa 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2c3e50;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .header {
            background: linear-gradient(135deg, #6b9bd1 0%, #7fb3d3 50%, #8bc5aa 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.1em;
            margin-bottom: 12px;
            font-weight: 300;
            letter-spacing: -0.5px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
            font-weight: 300;
            max-width: 500px;
            margin: 0 auto;
        }

        .chat-container {
            padding: 40px;
            min-height: 500px;
        }

        .welcome-message {
            background: linear-gradient(135deg, #f8fbff 0%, #f0f9ff 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 4px solid #7fb3d3;
        }

        .welcome-message h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.3em;
            font-weight: 500;
        }

        .welcome-message p {
            color: #4a5568;
            font-size: 1.05em;
            margin-bottom: 12px;
        }

        .conversation {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
            max-height: 400px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .conversation::-webkit-scrollbar {
            width: 6px;
        }

        .conversation::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }

        .conversation::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        .message {
            padding: 20px 25px;
            border-radius: 18px;
            max-width: 85%;
            animation: fadeIn 0.4s ease;
        }

        .user-message {
            background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%);
            color: #1e3a8a;
            align-self: flex-end;
            border: 1px solid #bae6fd;
        }

        .max-message {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            color: #334155;
            align-self: flex-start;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .prompts-section {
            margin-bottom: 25px;
        }

        .prompts-label {
            font-size: 1em;
            color: #64748b;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .quick-prompts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 12px;
            margin-bottom: 25px;
        }

        .prompt-btn {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 15px 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 0.95em;
            color: #475569;
            line-height: 1.4;
        }

        .prompt-btn:hover {
            border-color: #7fb3d3;
            background: #f8fbff;
            transform: translateY(-1px);
        }

        .input-section {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }

        .input-wrapper {
            flex: 1;
            position: relative;
        }

        .user-input {
            width: 100%;
            padding: 18px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
            min-height: 80px;
            max-height: 150px;
            transition: all 0.3s ease;
            background: white;
        }

        .user-input:focus {
            outline: none;
            border-color: #7fb3d3;
            box-shadow: 0 0 0 3px rgba(127, 179, 211, 0.1);
        }

        .user-input::placeholder {
            color: #94a3b8;
        }

        .send-btn {
            background: linear-gradient(135deg, #7fb3d3 0%, #68c0c7 100%);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 18px 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
            font-weight: 500;
            min-width: 80px;
            height: 54px;
        }

        .send-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(127, 179, 211, 0.3);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: none;
            align-self: flex-start;
            padding: 15px 20px;
            background: #f1f5f9;
            border-radius: 18px;
            color: #64748b;
            font-style: italic;
        }

        .typing-indicator.show {
            display: block;
        }

        .footer {
            background: linear-gradient(135deg, #334155 0%, #475569 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .footer-brand {
            font-size: 1.4em;
            font-weight: 600;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #7fb3d3 0%, #68c0c7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .footer-tagline {
            font-size: 1em;
            color: #cbd5e1;
            margin-bottom: 12px;
        }

        .footer-link {
            color: #7fb3d3;
            text-decoration: none;
            font-weight: 500;
        }

        .footer-link:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .header, .chat-container, .footer {
                padding: 25px 20px;
            }
            
            .quick-prompts {
                grid-template-columns: 1fr;
            }
            
            .input-section {
                flex-direction: column;
                gap: 15px;
            }
            
            .send-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Ask Max</h1>
            <p>Calm guidance for reinventing after 50</p>
        </div>

        <div class="chat-container">
            <div class="welcome-message">
                <h2>Hello, I'm Max</h2>
                <p>I'm here to offer gentle guidance if you're facing retirement, job loss, or any major life transition.</p>
                <p>You can ask me anything or choose from the prompts below. Take your time â€” there's no rush.</p>
            </div>

            <div class="conversation" id="conversation">
            </div>

            <div class="prompts-section">
                <div class="prompts-label">Common questions I hear:</div>
                <div class="quick-prompts">
                    <button class="prompt-btn" onclick="askQuestion('I just lost my job. What do I do first?')">
                        "I just lost my job. What do I do first?"
                    </button>
                    <button class="prompt-btn" onclick="askQuestion('Am I too old to start something new?')">
                        "Am I too old to start something new?"
                    </button>
                    <button class="prompt-btn" onclick="askQuestion('What if I don\'t know what I want anymore?')">
                        "What if I don't know what I want anymore?"
                    </button>
                    <button class="prompt-btn" onclick="askQuestion('I feel stuck. How do I get moving again?')">
                        "I feel stuck. How do I get moving again?"
                    </button>
                    <button class="prompt-btn" onclick="askQuestion('Everyone seems to have it figured out but me.')">
                        "Everyone seems to have it figured out but me."
                    </button>
                    <button class="prompt-btn" onclick="askQuestion('I\'m scared about money and the future.')">
                        "I'm scared about money and the future."
                    </button>
                </div>
            </div>

            <div class="input-section">
                <div class="input-wrapper">
                    <textarea 
                        id="userInput" 
                        class="user-input" 
                        placeholder="What's on your mind? I'm here to listen..."
                        rows="3"
                    ></textarea>
                </div>
                <button class="send-btn" id="sendBtn" onclick="sendMessage()">Send</button>
            </div>
        </div>

        <div class="footer">
            <div class="footer-brand">Empower Over 50</div>
            <div class="footer-tagline">Tools for Clarity, Confidence, and Calm Reinvention</div>
            <a href="https://www.youtube.com/@EmpowerOver50" target="_blank" class="footer-link">youtube.com/@EmpowerOver50</a>
        </div>
    </div>

    <script>
        const conversation = document.getElementById('conversation');
        const userInput = document.getElementById('userInput');
        const sendBtn = document.getElementById('sendBtn');

        // Max's responses - warm, human, grounded
        const responses = {
            "i just lost my job. what do i do first?": {
                text: "I'm so sorry this happened to you. Losing a job at our age feels different â€” I get that. First, breathe. Then take care of the basics: file for unemployment if you qualify, and give yourself a few days to process this. You don't need to solve everything today. Once you're ready, we can look at what's possible next.",
                tools: ["retirement-calculator"]
            },
            "am i too old to start something new?": {
                text: "You're asking the wrong question, friend. It's not about age â€” it's about energy and desire. Some of the most meaningful work happens in our second half of life because we finally know who we are. The question isn't whether you're too old, it's whether this new thing truly calls to you.",
                tools: ["reinvention-quiz"]
            },
            "what if i don't know what i want anymore?": {
                text: "That's actually more common than you think, and it's not a problem to solve â€” it's a space to explore. After decades of focusing on others' needs, many of us lose touch with our own desires. Start small: notice what makes you feel alive, even for a moment. The knowing will come back.",
                tools: ["vision-planner"]
            },
            "i feel stuck. how do i get moving again?": {
                text: "Stuck often means you're between chapters, and that's uncomfortable but not permanent. Sometimes the best way forward is the smallest step â€” not a big life change, just one tiny movement toward something that feels good. What's one small thing you could do today that would feel like progress?",
                tools: ["reinvention-quiz", "vision-planner"]
            },
            "everyone seems to have it figured out but me.": {
                text: "Oh, that's the big lie of social media and small talk, isn't it? Most people are figuring it out as they go, especially after 50. You're not behind â€” you're exactly where you need to be. Comparison steals our peace. Focus on your own timeline, your own journey.",
                tools: []
            },
            "i'm scared about money and the future.": {
                text: "Money fears are real and they're valid â€” especially when we're planning for decades ahead. Let's get some clarity on your actual numbers rather than living with the fear of the unknown. Knowledge reduces anxiety. You might be in a better position than you think.",
                tools: ["retirement-calculator"]
            }
        };

        // Default responses for unmatched questions
        const defaultResponses = [
            {
                text: "That sounds really challenging. You're not alone in feeling this way. Sometimes the first step is just acknowledging where we are and being gentle with ourselves about it. What feels like the most pressing thing for you right now?",
                tools: []
            },
            {
                text: "I hear you. Transitions at our stage of life can feel overwhelming because there's so much at stake. But here's what I've learned: we have more wisdom and resilience now than we ever had in our 20s or 30s. Trust that wisdom.",
                tools: ["reinvention-quiz"]
            },
            {
                text: "What you're feeling makes complete sense. Change is never easy, but it's often the doorway to something better. Let's take this one step at a time. You don't have to have all the answers today.",
                tools: ["vision-planner"]
            }
        ];

        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'max-message'}`;
            messageDiv.textContent = text;
            conversation.appendChild(messageDiv);
            conversation.scrollTop = conversation.scrollHeight;
        }

        function addTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator show';
            typingDiv.textContent = 'Max is thinking...';
            typingDiv.id = 'typing';
            conversation.appendChild(typingDiv);
            conversation.scrollTop = conversation.scrollHeight;
        }

        function removeTypingIndicator() {
            const typing = document.getElementById('typing');
            if (typing) typing.remove();
        }

        function getMaxResponse(question) {
            const normalizedQuestion = question.toLowerCase().trim();
            
            // Check for exact matches first
            if (responses[normalizedQuestion]) {
                return responses[normalizedQuestion];
            }
            
            // Check for partial matches
            for (const key in responses) {
                if (normalizedQuestion.includes(key) || key.includes(normalizedQuestion)) {
                    return responses[key];
                }
            }
            
            // Return random default response
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        function addToolSuggestions(tools) {
            if (tools.length === 0) return;
            
            setTimeout(() => {
                let toolText = "You might find these helpful: ";
                const toolLinks = [];
                
                tools.forEach(tool => {
                    switch(tool) {
                        case 'vision-planner':
                            toolLinks.push('Vision Planner for getting clarity');
                            break;
                        case 'retirement-calculator':
                            toolLinks.push('Retirement Calculator for peace of mind');
                            break;
                        case 'reinvention-quiz':
                            toolLinks.push('Reinvention Quiz to see where you are');
                            break;
                    }
                });
                
                toolText += toolLinks.join(', ') + ".";
                addMessage(toolText);
            }, 1000);
        }

        function askQuestion(question) {
            sendBtn.disabled = true;
            addMessage(question, true);
            
            setTimeout(() => {
                addTypingIndicator();
                
                setTimeout(() => {
                    removeTypingIndicator();
                    const response = getMaxResponse(question);
                    addMessage(response.text);
                    addToolSuggestions(response.tools);
                    sendBtn.disabled = false;
                }, 1500 + Math.random() * 1000);
            }, 300);
        }

        function sendMessage() {
            const question = userInput.value.trim();
            if (!question) return;
            
            userInput.value = '';
            askQuestion(question);
        }

        // Event listeners
        userInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        userInput.addEventListener('input', function() {
            sendBtn.disabled = !this.value.trim();
        });

        // Initialize
        sendBtn.disabled = true;
    </script>
</body>
</html>